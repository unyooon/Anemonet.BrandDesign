/**
 * Anemonet Brand Design — Component Utilities
 *
 * All styles reference --anm-* CSS Custom Properties.
 * HEX values are forbidden; CSS named colors (white, transparent) are used
 * only where no corresponding token exists.
 *
 * @layer anm-base        — Typography scale utilities
 * @layer anm-components  — Button, Alert, Badge, Card
 * @layer anm-utilities   — Spacing helpers
 *
 * Dark mode is handled automatically via [data-theme="dark"] token overrides
 * defined in tokens-dark.css — no additional selectors needed here.
 */

@layer anm-base, anm-components, anm-utilities;

/* ============================================================
   LAYER: anm-base — Typography scale
   ============================================================ */

@layer anm-base {
  .anm-text-display {
    font-family: var(--anm-text-display-family);
    font-size: var(--anm-text-display-size);
    font-weight: var(--anm-text-display-weight);
    line-height: var(--anm-text-display-line-height);
    color: var(--anm-color-text-heading);
  }

  .anm-text-h1 {
    font-family: var(--anm-text-h1-family);
    font-size: var(--anm-text-h1-size);
    font-weight: var(--anm-text-h1-weight);
    line-height: var(--anm-text-h1-line-height);
    color: var(--anm-color-text-heading);
  }

  .anm-text-h2 {
    font-family: var(--anm-text-h2-family);
    font-size: var(--anm-text-h2-size);
    font-weight: var(--anm-text-h2-weight);
    line-height: var(--anm-text-h2-line-height);
    color: var(--anm-color-text-heading);
  }

  .anm-text-h3 {
    font-family: var(--anm-text-h3-family);
    font-size: var(--anm-text-h3-size);
    font-weight: var(--anm-text-h3-weight);
    line-height: var(--anm-text-h3-line-height);
    color: var(--anm-color-text-heading);
  }

  .anm-text-large {
    font-family: var(--anm-text-large-family);
    font-size: var(--anm-text-large-size);
    font-weight: var(--anm-text-large-weight);
    line-height: var(--anm-text-large-line-height);
    color: var(--anm-color-text-body);
  }

  .anm-text-base {
    font-family: var(--anm-text-base-family);
    font-size: var(--anm-text-base-size);
    font-weight: var(--anm-text-base-weight);
    line-height: var(--anm-text-base-line-height);
    color: var(--anm-color-text-body);
  }

  .anm-text-small {
    font-family: var(--anm-text-small-family);
    font-size: var(--anm-text-small-size);
    font-weight: var(--anm-text-small-weight);
    line-height: var(--anm-text-small-line-height);
    color: var(--anm-color-text-body);
  }

  .anm-text-xxsmall {
    font-family: var(--anm-text-xxsmall-family);
    font-size: var(--anm-text-xxsmall-size);
    font-weight: var(--anm-text-xxsmall-weight);
    line-height: var(--anm-text-xxsmall-line-height);
    color: var(--anm-color-text-sub);
  }
}

/* ============================================================
   LAYER: anm-components — Button, Alert, Badge, Card
   ============================================================ */

@layer anm-components {

  /* ----------------------------------------------------------
     1. Button (.anm-btn)
     ----------------------------------------------------------
     Usage:
       <button class="anm-btn anm-btn-primary">Label</button>
       <button class="anm-btn anm-btn-primary anm-btn-sm">Small</button>
       <button class="anm-btn anm-btn-outline anm-btn-lg">Large</button>
     ---------------------------------------------------------- */

  .anm-btn {
    /* Layout */
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--anm-space-2);

    /* Box model — md is the default size */
    padding: var(--anm-component-button-md-padding-y) var(--anm-component-button-md-padding-x);
    height: var(--anm-component-button-md-height);
    border: 1px solid transparent;
    border-radius: var(--anm-component-button-md-border-radius);

    /* Typography */
    font-family: var(--anm-font-family-sans);
    font-size: var(--anm-component-button-md-font-size);
    font-weight: var(--anm-component-button-md-font-weight);
    line-height: 1;
    text-decoration: none;
    white-space: nowrap;

    /* Interaction */
    cursor: pointer;
    user-select: none;

    /* Transition — all interactive properties */
    transition:
      background-color var(--anm-transition-duration-normal) var(--anm-transition-easing-default),
      border-color var(--anm-transition-duration-normal) var(--anm-transition-easing-default),
      color var(--anm-transition-duration-normal) var(--anm-transition-easing-default),
      box-shadow var(--anm-transition-duration-normal) var(--anm-transition-easing-default),
      transform var(--anm-transition-duration-fast) var(--anm-transition-easing-spring),
      opacity var(--anm-transition-duration-normal) var(--anm-transition-easing-default);
  }

  /* Focus ring — WCAG AA (2px ring, 2px offset) */
  .anm-btn:focus-visible {
    outline: 2px solid var(--anm-color-primary-500);
    outline-offset: 2px;
  }

  /* Disabled state */
  .anm-btn:disabled,
  .anm-btn[aria-disabled="true"] {
    opacity: 0.4;
    pointer-events: none;
    cursor: not-allowed;
  }

  /* ---- Size modifiers ---- */

  .anm-btn-sm {
    padding: var(--anm-component-button-sm-padding-y) var(--anm-component-button-sm-padding-x);
    height: var(--anm-component-button-sm-height);
    font-size: var(--anm-component-button-sm-font-size);
    font-weight: var(--anm-component-button-sm-font-weight);
    border-radius: var(--anm-component-button-sm-border-radius);
  }

  .anm-btn-md {
    padding: var(--anm-component-button-md-padding-y) var(--anm-component-button-md-padding-x);
    height: var(--anm-component-button-md-height);
    font-size: var(--anm-component-button-md-font-size);
    font-weight: var(--anm-component-button-md-font-weight);
    border-radius: var(--anm-component-button-md-border-radius);
  }

  .anm-btn-lg {
    padding: var(--anm-component-button-lg-padding-y) var(--anm-component-button-lg-padding-x);
    height: var(--anm-component-button-lg-height);
    font-size: var(--anm-component-button-lg-font-size);
    font-weight: var(--anm-component-button-lg-font-weight);
    border-radius: var(--anm-component-button-lg-border-radius);
  }

  /* ---- Variant: primary ---- */

  .anm-btn-primary {
    background-color: var(--anm-color-action-primary-default);
    border-color: var(--anm-color-action-primary-default);
    color: white;
  }

  .anm-btn-primary:hover:not(:disabled):not([aria-disabled="true"]) {
    background-color: var(--anm-color-action-primary-hover);
    border-color: var(--anm-color-action-primary-hover);
  }

  .anm-btn-primary:active:not(:disabled):not([aria-disabled="true"]) {
    background-color: var(--anm-color-action-primary-press);
    border-color: var(--anm-color-action-primary-press);
    transform: scale(0.98);
  }

  /* ---- Variant: secondary ---- */

  .anm-btn-secondary {
    background-color: var(--anm-color-bg-section);
    border-color: var(--anm-color-border-default);
    color: var(--anm-color-text-body);
  }

  .anm-btn-secondary:hover:not(:disabled):not([aria-disabled="true"]) {
    background-color: var(--anm-color-neutral-200);
    border-color: var(--anm-color-neutral-300);
  }

  .anm-btn-secondary:active:not(:disabled):not([aria-disabled="true"]) {
    background-color: var(--anm-color-neutral-300);
    border-color: var(--anm-color-neutral-400);
    transform: scale(0.98);
  }

  /* ---- Variant: outline ---- */

  .anm-btn-outline {
    background-color: transparent;
    border-color: var(--anm-color-action-primary-default);
    color: var(--anm-color-action-primary-default);
  }

  .anm-btn-outline:hover:not(:disabled):not([aria-disabled="true"]) {
    background-color: var(--anm-color-action-primary-subtle);
  }

  .anm-btn-outline:active:not(:disabled):not([aria-disabled="true"]) {
    background-color: var(--anm-color-action-primary-tint);
    transform: scale(0.98);
  }

  /* ---- Variant: ghost ---- */

  .anm-btn-ghost {
    background-color: transparent;
    border-color: transparent;
    color: var(--anm-color-action-primary-default);
  }

  .anm-btn-ghost:hover:not(:disabled):not([aria-disabled="true"]) {
    background-color: var(--anm-color-action-primary-subtle);
  }

  .anm-btn-ghost:active:not(:disabled):not([aria-disabled="true"]) {
    background-color: var(--anm-color-action-primary-tint);
    transform: scale(0.98);
  }

  /* ---- Variant: destructive ---- */

  .anm-btn-destructive {
    background-color: var(--anm-color-status-error);
    border-color: var(--anm-color-status-error);
    color: white;
  }

  .anm-btn-destructive:hover:not(:disabled):not([aria-disabled="true"]) {
    background-color: color-mix(in srgb, var(--anm-color-status-error) 92%, black);
    border-color: color-mix(in srgb, var(--anm-color-status-error) 92%, black);
  }

  .anm-btn-destructive:active:not(:disabled):not([aria-disabled="true"]) {
    background-color: color-mix(in srgb, var(--anm-color-status-error) 84%, black);
    border-color: color-mix(in srgb, var(--anm-color-status-error) 84%, black);
    transform: scale(0.98);
  }


  /* ----------------------------------------------------------
     2. Alert (.anm-alert)
     ----------------------------------------------------------
     Usage:
       <div class="anm-alert anm-alert-info">
         <span class="anm-alert-icon"><!-- icon --></span>
         <div class="anm-alert-content">
           <p class="anm-alert-title">Info</p>
           <p class="anm-alert-message">This is an informational message.</p>
         </div>
       </div>
     ---------------------------------------------------------- */

  .anm-alert {
    display: flex;
    gap: var(--anm-space-3);
    padding: var(--anm-space-3) var(--anm-space-4);
    border: 1px solid transparent;
    border-left-width: 4px;
    border-radius: var(--anm-radius-md);
    position: relative;
  }

  .anm-alert-info {
    background-color: var(--anm-color-status-info-bg);
    border-color: var(--anm-color-status-info-bg);
    border-left-color: var(--anm-color-status-info);
    color: var(--anm-color-text-body);
  }

  .anm-alert-success {
    background-color: var(--anm-color-status-success-bg);
    border-color: var(--anm-color-status-success-bg);
    border-left-color: var(--anm-color-status-success);
    color: var(--anm-color-text-body);
  }

  .anm-alert-warning {
    background-color: var(--anm-color-status-warning-bg);
    border-color: var(--anm-color-status-warning-bg);
    border-left-color: var(--anm-color-status-warning);
    color: var(--anm-color-text-body);
  }

  .anm-alert-error {
    background-color: var(--anm-color-status-error-bg);
    border-color: var(--anm-color-status-error-bg);
    border-left-color: var(--anm-color-status-error);
    color: var(--anm-color-text-body);
  }

  /* Icon — color inherits from variant context */
  .anm-alert-icon {
    flex-shrink: 0;
    display: flex;
    align-items: flex-start;
    padding-top: 2px;
    width: 20px;
    height: 20px;
  }

  .anm-alert-info    .anm-alert-icon { color: var(--anm-color-status-info); }
  .anm-alert-success .anm-alert-icon { color: var(--anm-color-status-success); }
  .anm-alert-warning .anm-alert-icon { color: var(--anm-color-status-warning); }
  .anm-alert-error   .anm-alert-icon { color: var(--anm-color-status-error); }

  /* Content wrapper */
  .anm-alert-content {
    display: flex;
    flex-direction: column;
    gap: var(--anm-space-1);
    min-width: 0;
  }

  .anm-alert-title {
    font-family: var(--anm-font-family-sans);
    font-size: var(--anm-text-small-size);
    font-weight: var(--anm-font-weight-semibold);
    line-height: var(--anm-text-small-line-height);
    color: var(--anm-color-text-heading);
    margin: 0;
  }

  .anm-alert-message {
    font-family: var(--anm-font-family-sans);
    font-size: var(--anm-text-small-size);
    font-weight: var(--anm-font-weight-regular);
    line-height: var(--anm-text-small-line-height);
    color: var(--anm-color-text-body);
    margin: 0;
  }


  /* ----------------------------------------------------------
     3. Badge (.anm-badge)
     ----------------------------------------------------------
     Usage:
       <span class="anm-badge anm-badge-primary">Primary</span>
       <span class="anm-badge anm-badge-success anm-badge-xs">Done</span>
     ---------------------------------------------------------- */

  .anm-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--anm-radius-full);
    font-family: var(--anm-font-family-sans);
    font-weight: var(--anm-font-weight-medium);
    white-space: nowrap;
    /* default = sm */
    padding: 2px var(--anm-space-2);
    font-size: var(--anm-text-small-size);
    line-height: var(--anm-text-small-line-height);
  }

  /* ---- Size modifiers ---- */

  .anm-badge-sm {
    padding: 2px var(--anm-space-2);
    font-size: var(--anm-text-small-size);
    line-height: var(--anm-text-small-line-height);
  }

  .anm-badge-xs {
    padding: 1px var(--anm-space-2);
    font-size: var(--anm-text-xxsmall-size);
    line-height: var(--anm-text-xxsmall-line-height);
  }

  /* ---- Variant: primary ---- */

  .anm-badge-primary {
    background-color: var(--anm-color-action-primary-tint);
    color: var(--anm-color-action-primary-default);
  }

  /* ---- Variant: success ---- */

  .anm-badge-success {
    background-color: var(--anm-color-status-success-bg);
    color: var(--anm-color-status-success);
  }

  /* ---- Variant: warning ---- */

  .anm-badge-warning {
    background-color: var(--anm-color-status-warning-bg);
    color: var(--anm-color-status-warning);
  }

  /* ---- Variant: error ---- */

  .anm-badge-error {
    background-color: var(--anm-color-status-error-bg);
    color: var(--anm-color-status-error);
  }

  /* ---- Variant: info ---- */

  .anm-badge-info {
    background-color: var(--anm-color-status-info-bg);
    color: var(--anm-color-status-info);
  }

  /* ---- Variant: neutral ---- */

  .anm-badge-neutral {
    background-color: var(--anm-color-neutral-100);
    color: var(--anm-color-neutral-700);
  }


  /* ----------------------------------------------------------
     4. Card (.anm-card)
     ----------------------------------------------------------
     Usage:
       <div class="anm-card">
         <div class="anm-card-header">Header</div>
         <div class="anm-card-body">Body content</div>
         <div class="anm-card-footer">Footer</div>
       </div>

       <div class="anm-card anm-card-interactive" tabindex="0">
         <div class="anm-card-body">Clickable card</div>
       </div>
     ---------------------------------------------------------- */

  .anm-card {
    background-color: var(--anm-color-bg-card);
    border: 1px solid var(--anm-color-border-default);
    border-radius: var(--anm-radius-lg);
    box-shadow: var(--anm-shadow-sm);
    overflow: hidden;
  }

  /* Interactive variant */
  .anm-card-interactive {
    cursor: pointer;
    transition:
      box-shadow var(--anm-transition-duration-normal) var(--anm-transition-easing-default),
      border-color var(--anm-transition-duration-normal) var(--anm-transition-easing-default);
  }

  .anm-card-interactive:hover {
    box-shadow: var(--anm-shadow-md);
    border-color: var(--anm-color-action-primary-default);
  }

  .anm-card-interactive:active {
    box-shadow: var(--anm-shadow-sm);
  }

  /* Focus ring — WCAG AA */
  .anm-card-interactive:focus-visible {
    outline: 2px solid var(--anm-color-primary-500);
    outline-offset: 2px;
  }

  /* ---- Card sub-elements ---- */

  .anm-card-header {
    padding: var(--anm-space-4) var(--anm-space-6);
    border-bottom: 1px solid var(--anm-color-border-subtle);
  }

  .anm-card-body {
    padding: var(--anm-space-6);
  }

  .anm-card-footer {
    padding: var(--anm-space-4) var(--anm-space-6);
    border-top: 1px solid var(--anm-color-border-subtle);
    background-color: var(--anm-color-bg-section);
  }

} /* end @layer anm-components */


/* ============================================================
   LAYER: anm-utilities — Spacing helpers
   ============================================================ */

@layer anm-utilities {

  /* ---- margin-top ---- */
  .anm-mt-1  { margin-top: var(--anm-space-1); }
  .anm-mt-2  { margin-top: var(--anm-space-2); }
  .anm-mt-3  { margin-top: var(--anm-space-3); }
  .anm-mt-4  { margin-top: var(--anm-space-4); }
  .anm-mt-5  { margin-top: var(--anm-space-5); }
  .anm-mt-6  { margin-top: var(--anm-space-6); }
  .anm-mt-8  { margin-top: var(--anm-space-8); }
  .anm-mt-10 { margin-top: var(--anm-space-10); }
  .anm-mt-12 { margin-top: var(--anm-space-12); }
  .anm-mt-16 { margin-top: var(--anm-space-16); }

  /* ---- margin-bottom ---- */
  .anm-mb-1  { margin-bottom: var(--anm-space-1); }
  .anm-mb-2  { margin-bottom: var(--anm-space-2); }
  .anm-mb-3  { margin-bottom: var(--anm-space-3); }
  .anm-mb-4  { margin-bottom: var(--anm-space-4); }
  .anm-mb-5  { margin-bottom: var(--anm-space-5); }
  .anm-mb-6  { margin-bottom: var(--anm-space-6); }
  .anm-mb-8  { margin-bottom: var(--anm-space-8); }
  .anm-mb-10 { margin-bottom: var(--anm-space-10); }
  .anm-mb-12 { margin-bottom: var(--anm-space-12); }
  .anm-mb-16 { margin-bottom: var(--anm-space-16); }

  /* ---- padding (all sides) ---- */
  .anm-p-1  { padding: var(--anm-space-1); }
  .anm-p-2  { padding: var(--anm-space-2); }
  .anm-p-3  { padding: var(--anm-space-3); }
  .anm-p-4  { padding: var(--anm-space-4); }
  .anm-p-5  { padding: var(--anm-space-5); }
  .anm-p-6  { padding: var(--anm-space-6); }
  .anm-p-8  { padding: var(--anm-space-8); }
  .anm-p-10 { padding: var(--anm-space-10); }
  .anm-p-12 { padding: var(--anm-space-12); }
  .anm-p-16 { padding: var(--anm-space-16); }

  /* ---- padding-inline (horizontal) ---- */
  .anm-px-1  { padding-inline: var(--anm-space-1); }
  .anm-px-2  { padding-inline: var(--anm-space-2); }
  .anm-px-3  { padding-inline: var(--anm-space-3); }
  .anm-px-4  { padding-inline: var(--anm-space-4); }
  .anm-px-5  { padding-inline: var(--anm-space-5); }
  .anm-px-6  { padding-inline: var(--anm-space-6); }
  .anm-px-8  { padding-inline: var(--anm-space-8); }
  .anm-px-10 { padding-inline: var(--anm-space-10); }
  .anm-px-12 { padding-inline: var(--anm-space-12); }
  .anm-px-16 { padding-inline: var(--anm-space-16); }

  /* ---- padding-block (vertical) ---- */
  .anm-py-1  { padding-block: var(--anm-space-1); }
  .anm-py-2  { padding-block: var(--anm-space-2); }
  .anm-py-3  { padding-block: var(--anm-space-3); }
  .anm-py-4  { padding-block: var(--anm-space-4); }
  .anm-py-5  { padding-block: var(--anm-space-5); }
  .anm-py-6  { padding-block: var(--anm-space-6); }
  .anm-py-8  { padding-block: var(--anm-space-8); }
  .anm-py-10 { padding-block: var(--anm-space-10); }
  .anm-py-12 { padding-block: var(--anm-space-12); }
  .anm-py-16 { padding-block: var(--anm-space-16); }

} /* end @layer anm-utilities */
